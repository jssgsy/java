# fms是什么
fsm(finite state machine): 有限状态机，简称状态机。

状态机的职责很简单、纯粹：接收一个输入(当前状态，事件类型)，然后产生一个输出(下一个状态)。

# 核心特点
* 状态是有限的，即`状态可枚举`；
* 使转换发生变化的事件类型是有限的，即`事件类型可枚举`；
* 状态的变换是有限的，即`状态转移可枚举`；

# 核心元素
* `状态`(StateEnum)；
* `事件`(条件,Event)，触发状态发生转移的条件，如按钮被按下，数据已初始化等待；
    * 事件类型，每个事件都关联有一个事件类型。事件发生时可能需要携带上下文信息(业务信息)，`是动态的`， 而事件类型就只是一种类型，`是静态的`
* 动作，即发生转移时需要做的事情，和具体的事件强相关，即转移发生时需要处理的业务逻辑，同时下一个状态也在这里诞生；
* `转移(Transition)`，其实是一个封装的概念，四元组(当前状态，事件类型，下一个状态，转移时需要处理的业务逻辑);
    * 不是类似普通的学生、订单等能与现实世界实物(名词)一一对应的对象，而是一种人为的打包的概念；
    * 转移的前三个元素其实就是一种静态的、可枚举的配置，即((当前状态， 事件类型)---》下一个状态)，而最后一个元素是转移发生时需要处理的业务逻辑；
        * 体现在代码中就是前三者是字段，后者是方法；
    * 所以说转移不是与现实实物一一对应的概念而是为了方便编程提出的打包概念；

## 特别注意
* 事件有两个概念，`【事件】`与`【事件类型】`，事件类型是可枚举的，表示促使状态发生变化的事件类型，而事件则是具体的事件，`携带有业务数据`；
* 事件与事件类型的关系：`每个事件都有一个对应的事件类型`；理解成事件类型是事件的一个附属属性；

# 注意
实际项目中，状态机需要永不停歇的运转，此时要考虑其持久动力来自哪，当然驱动状态机运转的是具体业务的职责，
现实业务中，一种用来驱动状态机的动力可以考虑消息(消息列队、binlog)的监听；










